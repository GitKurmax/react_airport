(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,,,function(e,t,a){e.exports=a(22)},,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(8),l=a.n(s),c=(a(15),a(1)),i=a(2),o=a(4),u=a(3),h=a(6),d=a(5),m=(a(16),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).departure=r.a.createRef(),a.arrival=r.a.createRef(),a.changeView=a.changeView.bind(Object(h.a)(a)),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"changeView",value:function(e){e.target.classList.contains("active")||([this.departure.current,this.arrival.current].forEach(function(e){e.classList.toggle("active"),e.classList.toggle("unactive")}),this.props.changeStatus(e))}},{key:"render",value:function(){return r.a.createElement("section",{className:"header_wrapper_section"},r.a.createElement("div",{ref:this.departure,className:"header_wrapper departure active",onClick:this.changeView},r.a.createElement("svg",Object.assign({width:40,height:28},this.props),r.a.createElement("path",{d:"M39.855 11.9a2.946 2.946 0 0 0-3.772-1.888l-10.251 3.603L11.339 1.577 7.612 2.872l9.166 13.913-9.592 3.373-4.1-2.837-2.798.988 4.03 6.136 1.704 2.578 3.085-1.089 10.25-3.601 8.399-2.944 10.255-3.606a3.092 3.092 0 0 0 1.844-3.883z",fill:"#fff",fillRule:"nonzero"})),r.a.createElement("span",null,"Departures")),r.a.createElement("div",{ref:this.arrival,className:"header_wrapper arrival unactive",onClick:this.changeView},r.a.createElement("span",null,r.a.createElement("svg",Object.assign({width:40,height:28},this.props),r.a.createElement("g",{fill:"none",fillRule:"evenodd"},r.a.createElement("path",{d:"M37.67 22.643a2.944 2.944 0 0 0-2.199-3.597l-10.597-2.374-5.912-17.875-3.844-.876.404 16.646-9.916-2.22-1.973-4.574-2.896-.645.169 7.335.078 3.088 3.192.71 10.595 2.374 8.678 1.95 10.6 2.373a3.09 3.09 0 0 0 3.62-2.315z",fill:"#fff",fillRule:"nonzero"})))),r.a.createElement("span",null,"Arrivals")))}}]),t}(n.Component));a(17);var p=function(e){return r.a.createElement("thead",null,r.a.createElement("tr",{className:"thead_tr"},r.a.createElement("th",null,"Terminal"),r.a.createElement("th",{className:e.status},"Gate"),r.a.createElement("th",null,"Local time"),r.a.createElement("th",null,"Destination"),r.a.createElement("th",null,"Status"),r.a.createElement("th",null,"Airline"),r.a.createElement("th",null,"Flight")))},f=(a(18),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={displayClass:"unvisible"},a.showLink=a.showLink.bind(Object(h.a)(a)),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"showLink",value:function(e){this.setState(function(e){return{displayClass:"unvisible"===e.displayClass?"visible":"unvisible"}})}},{key:"render",value:function(){return r.a.createElement("tr",{className:"row",onMouseEnter:this.showLink,onMouseLeave:this.showLink},r.a.createElement("td",{className:"terminal"},r.a.createElement("div",{className:"A"===this.props.terminal?"green":"blue"},this.props.terminal)),r.a.createElement("td",{className:this.props.gateClass},this.props.gateNo),r.a.createElement("td",null,this.props.localTime),r.a.createElement("td",null,this.props.destination),r.a.createElement("td",null,this.props.status),r.a.createElement("td",null,r.a.createElement("span",{className:"image"},r.a.createElement("img",{src:this.props.logo})),r.a.createElement("span",null,this.props.airline)),r.a.createElement("td",null,this.props.flight," ",r.a.createElement("a",{onClick:function(e){alert("A \u044d\u0442\u043e\u0433\u043e \u043d\u0430\u043c \u043d\u0435 \u0437\u0430\u0434\u0430\u0432\u0430\u043b\u0438"),e.preventDefault()},className:this.state.displayClass,href:"#"}," Flight details")))}}]),t}(r.a.Component)),g=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={arrival:null,departure:null,loaded:!1},a.loader=r.a.createRef(),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"createRequest",value:function(e){var t,a=this,n=(new Date).getMonth()+1<10?"0".concat((new Date).getMonth()+1):(new Date).getMonth()+1;"Today"===e&&(t="".concat((new Date).getDate(),"-").concat(n,"-").concat((new Date).getFullYear())),"Yestarday"===e&&(t="".concat((new Date).getDate()-1,"-").concat(n,"-").concat((new Date).getFullYear())),"Tomorrow"===e&&(t="".concat((new Date).getDate()+1,"-").concat(n,"-").concat((new Date).getFullYear())),fetch("https://api.iev.aero/api/flights/".concat(t)).then(function(e){return e.json()}).then(function(e){return e}).then(function(e){var t=e.body.departure.map(function(e){return a.createLists(e,"timeDepShedule","airportToID.city_en","dep")}),n=e.body.arrival.map(function(e){return a.createLists(e,"timeArrShedule","airportFromID.city_en","arr")});a.setState({arrival:n,departure:t,loaded:!0})})}},{key:"createLists",value:function(e,t,a,n){var s,l=new Date(e[t]),c="".concat(l.getHours(),":").concat(2===l.getMinutes().toString().length?l.getMinutes():"0"+l.getMinutes()),i=new Date(e.timeDepFact),o="".concat(i.getHours(),":").concat(2===i.getMinutes().toString().length?i.getMinutes():"0"+i.getMinutes());switch(e.status){case"DP":s="Departed at "+o;break;case"ON":s="On time";break;case"CX":s="Canceled";break;case"CK":s="Check-in";break;default:s=e.status}return r.a.createElement(f,{key:e.ID,terminal:e.term,localTime:c,destination:e[a].trim(),status:s,airline:e.airline.en.name,logo:e.airline.en.logoSmallName,flight:e.codeShareData[0].codeShare,gateNo:e.gateNo,gateClass:n})}},{key:"componentDidMount",value:function(){this.placeLoader(this.loader.current),this.createRequest("Today")}},{key:"componentDidUpdate",value:function(e,t){this.props.day!==e.day&&(console.log(this.state.top),this.setState({loaded:!1}),"Yestarday"===this.props.day&&this.createRequest("Yestarday"),"Today"===this.props.day&&this.createRequest("Today"),"Tomorrow"===this.props.day&&this.createRequest("Tomorrow"))}},{key:"placeLoader",value:function(e){var t=e,a=document.documentElement.clientHeight/2-t.clientHeight/2,n=document.documentElement.clientWidth/2-t.clientWidth/2;this.setState({style:{top:a+"px",left:n+"px"}})}},{key:"render",value:function(){return this.state.loaded?r.a.createElement("tbody",null,this.state[this.props.status]):r.a.createElement("div",null,r.a.createElement("div",{className:"preloader"}),r.a.createElement("div",{ref:this.loader,style:this.state.style,className:"loading"}))}}]),t}(n.Component),v=(a(19),function(e){function t(e){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).call(this,e))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return r.a.createElement("section",{className:"table"},r.a.createElement("table",null,r.a.createElement(p,{status:this.props.status}),r.a.createElement(g,{status:this.props.status,day:this.props.day,loaded:this.props.loaded})))}}]),t}(n.Component)),b=(a(20),function(e){function t(e){return Object(c.a)(this,t),Object(o.a)(this,Object(u.a)(t).call(this,e))}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("section",{className:"calendar"},r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,["Yestarday","Today","Tomorrow"].map(function(t){return r.a.createElement("td",{key:t,className:e.props.dayActive===t?"active":"",onClick:function(){return e.props.changeCalendarStatus(t)}},t)})))))}}]),t}(n.Component)),E=(a(21),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={data:null,status:"departure",calendarStatus:"Today",loaded:!0},a.changeStatus=a.changeStatus.bind(Object(h.a)(a)),a.changeCalendarStatus=a.changeCalendarStatus.bind(Object(h.a)(a)),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"changeStatus",value:function(e){this.setState(function(e){return{status:"arrival"===e.status?"departure":"arrival"}})}},{key:"changeCalendarStatus",value:function(e){this.setState({calendarStatus:e,loaded:!1})}},{key:"render",value:function(){return r.a.createElement("section",{className:"main_wrapper"},r.a.createElement(m,{changeStatus:this.changeStatus}),r.a.createElement(b,{dayActive:this.state.calendarStatus,changeCalendarStatus:this.changeCalendarStatus}),r.a.createElement(v,{status:this.state.status,day:this.state.calendarStatus,loaded:this.state.loaded}))}}]),t}(r.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[9,1,2]]]);
//# sourceMappingURL=main.3a1e55cf.chunk.js.map